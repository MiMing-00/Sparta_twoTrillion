<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./css/reset.css" rel="stylesheet" type="text/css" />
    <title>Document</title>
</head>
<style>
    .memberBox {
        box-sizing: border-box;
        width: 1440px;
        border: 1px solid black;
        margin: 100px auto 0;
        display: flex;
        gap: 40px;
    }

    .leftBox,
    .rightBox {
        border: 1px solid green;
    }

    .leftBox {
        width: 900px;
        padding: 60px;
    }

    .leftBox>.leftTitle {
        margin-bottom: 100px;
    }

    .leftBox {
        font-size: 32px;
    }

    .leftBox .myProfile {
        margin: 20px;
        font-size: 20px;
    }

    /* ì™¼ìª½ ë°•ìŠ¤ ê¸€ ì‚¬ì´ ê°„ê²© ì¡°ì ˆ */
    .leftBox .myProfile>div+div {
        margin-top: 20px;
    }

    /* ì™¼ìª½ ë°•ìŠ¤ íƒ€ì´í‹€ ìŠ¤íƒ€ì¼ ì§€ì • */
    .leftBox .myProfile>div>.title {
        margin-bottom: 10px;
        font-weight: bold;
    }

    .rightBox {
        width: 500px;
        padding: 60px;
        text-align: center;
        display: flex;
        justify-content: center;
        flex-direction: column;
    }

    .rightBoxImg {
        width: 400px;
        height: 400px;
        background-image: url(./img/memImgChm.png);
        margin: 0 auto;
        object-fit: cover;
    }

    .rightBoxTxt {
        text-align: left;
    }

    .rightBoxTxt>p {
        font-size: 24px;
    }

    .rightBoxTxt>p+p {
        margin-top: 30px;
    }

    /* ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ */
    .backBtn {
        position: fixed;
        left: 20px;
        top: 20px;
        width: 50px;
        height: 50px;
        background-image: url(./img/backBtn.png);
        background-size: contain;
        cursor: pointer;
    }

    .commentList {
        padding: 30px;
        width: 1440px;
        margin: 30px auto;
        border: 1px solid #000000;
        font-size: 18px;
        box-sizing: border-box;
    }
    .commentList > h3 {
        margin-bottom: 20px;
    }

    .userComment {
        line-height: 50px;
        border-radius: 1px;
    }

    .commentNickPw {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
    }
    .nickname {
        font-size: 18px;
        font-weight: 550;
    }

    .pw {
        font-size: 18px;
        font-weight: 550;
    }

    .comment {
        width: 100%;
        border-style: solid;
        font-size: 18px;
        font-weight: 450;
    }
    .commentLi {
        border: 1px solid green;
        padding: 10px;
    }
    .commentLi + .commentLi {
        margin-top: 10px;
    }
    .commentForm {
        width: 1440px;
        border: 1px solid rgb(144, 198, 239);
        box-sizing: border-box;
        padding: 60px;
        margin: 0 auto;
    }
    .button {
        width: 100px;
        font-size: 15px;
        font-style: inherit;
        background-color:#88fba6;
        color: rgb(18, 10, 10);
    }
    .commentUp {
        display: flex;
        gap: 20px;
    }
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="module">
    // Firebase SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";


    // Firebase êµ¬ì„± ì •ë³´ ì„¤ì •
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional

    // ì•„ë˜ ë‚´ìš©ì€ ê°ì íŒŒì´ì–´ë² ì´ìŠ¤ ë‚´ìš©ìœ¼ë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”!
    const firebaseConfig = {
        apiKey: "AIzaSyB2SUHRwne9YVQf37JPuSamvoyaWpFoWXM",
        authDomain: "sparta-c5f21.firebaseapp.com",
        projectId: "sparta-c5f21",
        storageBucket: "sparta-c5f21.appspot.com",
        messagingSenderId: "308174731786",
        appId: "1:308174731786:web:2f06d35e3dc2ee1e04fdf3",
        measurementId: "G-QC61ETB6CR"
    };


    // Firebase ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    $("#postingBtn").click(async function () {
        let nickname = $('#nickname').val();
        let pw = $('#pw').val();
        let comment = $('#comment').val();

        let doc = {
            'nickname': nickname,
            'pw': pw,
            'comment': comment
        };

        await addDoc(collection(db, "comments"), doc);
        alert('ëŒ“ê¸€ì´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.')
        window.location.reload();
    })

    let docs = await getDocs(collection(db, "comments"));
    docs.forEach((doc) => {
        let row = doc.data();
        let nickname = row['nickname'];
        let pw = row['pw'];
        let comment = row['comment'];

        let temp_html = `            
        <li class="commentLi">
            <p>${nickname}</p>
            <p>${comment}</p>
        </li>`
        $('.userComment').append(temp_html);
    });

</script>
<body>
    <a href="index.html">
        <div class="backBtn"></div>
    </a>
    <div class="memberBox">
        <div class="leftBox">
            <div class="leftTitle">
                <ì—°ë´‰ 2ì¡°> ë©¤ë²„ í”„ë¡œí•„
            </div>
            <div class="myProfile">
                <div class="Advantages">
                    <p class="title">ê°ê´€ì ì¸ ìì‹ ì˜ ì¥ì </p>
                    <p>ì¶”ì§„ë ¥, ì„±ì‹¤í•¨</p>
                </div>
                <div class="myStyle">
                    <p class="title">ìì‹ ì˜ ìŠ¤íƒ€ì¼</p>
                    <p>ì „ì²´ì ì¸ í° ê·¸ë¦¼ì„ ê·¸ë¦° ì´í›„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤.</p>
                </div>
                <div class="collaboStyle">
                    <p class="title">í˜‘ë ¥ ìŠ¤íƒ€ì¼</p>
                    <p>íŒ€ì›ë“¤ì˜ ì˜ê²¬ì„ ì „ë¶€ ë‹¤ ë“£ê³  ì¡°ìœ¨í•˜ëŠ” ê²ƒì„ ì¶”êµ¬í•©ë‹ˆë‹¤.</p>
                    <p>ì´ë²ˆ í”„ë¡œì íŠ¸ ëŒ€ë°• ê¸°ì›í•©ë‹ˆë‹¤!</p>
                </div>
                <div class="blogLink">
                    <a href="https://velog.io/@miming-00"> ë²¨ë¡œê·¸ ë§í¬</a>
                </div>
            </div>
        </div>
        <div class="rightBox">
            <div class="rightBoxImg">
            </div>
            <div class="rightBoxTxt">
                <p>ìµœí˜œë¯¸</p>
                <p>ENTJ</p>
                <p>ì¤‘ìš”í•œ ê±´ êº¾ì—¬ë„ ê·¸ëƒ¥ í•˜ëŠ” ë§ˆìŒ...ğŸ˜Œ</p>
            </div>
        </div>
    </div>
    <div class="commentList">
        <h3>ëŒ“ê¸€ ëª©ë¡</h3>
        <ul class="userComment">
            <li class="commentLi">
                <p>ë°•ì†”</p>
                <p>ì™€ ë„ˆë¬´ ë©‹ì ¸ìš”!</p>
            </li>
            <li class="commentLi">
                <p>ê¹€íœ˜ì§„</p>
                <p>ì¹œí•´ì§€ê³  ì‹¶ì–´ìš” ã… ã… </p>
            </li>
            <li class="commentLi">
                <p>ì„ ì§€ì›</p>
                <p>ì˜¤ëŠ˜ ì €ë… ë©”ë‰´ ì¶”ì²œí•´ ì£¼ì‹­ì‡¼!</p>
            </li>
        </ul>
    </div>
    <div class ="commentForm">
        <div class="commentNickPw">
            <div class="nickname">
                <label for="nickname">Nickname:</label>
                <input type="text" name="nickname" id="nickname" required>
            </div>
            <div class="pw">
                <label for="pw">PW:</label>
                <input type="text" name="pw" id="pw" required>
            </div>
        </div>
        <div class = commentUp>
            <div class="comment">
                <label for="comment"></label>
                <input id="comment" type="text" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”." style="width: 100%;height: 40px;font-size: 18px;">
            </div>
            <button id="postingBtn" type = "button" button class = "button">ëŒ“ê¸€ ë“±ë¡</button>
        </div>
    </div>
</body>

</html>